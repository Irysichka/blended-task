{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/*\n  Створи список справ.\n  На сторінці є два інпути які має вводиться назва і текст задачі.\n  Після натискання на кнопку \"Add\" завдання додається до списку #task-list.\n\n  У кожної картки має бути кнопка \"Delete\", щоб можна було\n  прибрати завдання зі списку.\n  Список із завданнями має бути доступним після перезавантаження сторінки.\n\n  Розмітка картки задачі\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\n\n// Ключи\nconst STORAGE_KEY_TASKS = 'todo_tasks_v2';\nconst STORAGE_KEY_THEME = 'todo_theme_v2';\n\n// DOM елементи\nconst form = document.querySelector(\".header-form\");\nconst inputName = document.querySelector('input[name=\"taskName\"]');\nconst taskList = document.querySelector(\"#task-list\");\nconst inputDesc = document.querySelector('input[name=\"taskDescription\"]');\nconst changeTheme = document.querySelector(\"#themeToggle\");\nconst body = document.body;\n\nlet tasks = loadTasks();\napplySavedTheme();\nrenderTasks();\n\n// Завантаження задач\nfunction renderTasks() {\n  taskList.innerHTML = \"\";\n  tasks.forEach(task => {\n    taskList.insertAdjacentHTML(\"beforeend\", createTaskMarkup(task))\n  });\n}\nfunction loadTasks() {\n  try {\n    return JSON.parse(localStorage.getItem(STORAGE_KEY_TASKS)) || []\n  }\n  catch (_) {\n   return []\n  }\n}\n\n\n// Збереження задач\nfunction saveTasks(tasks) {\n  localStorage.setItem(STORAGE_KEY_TASKS,JSON.stringify(tasks) )\n}\n\n\n\n\nform.addEventListener(\"submit\", handleSubmit)\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n const title = inputName.value.trim();\nconst text = inputDesc.value.trim();\n\n  if (!title || !text) {\n    return;\n  }\n\n  const newTask = {\n    id: Date.now().toString(),\n    title,\n    text\n  };\n\n  tasks.push(newTask);\n  saveTasks(tasks);\n\n\ntaskList.insertAdjacentHTML(\"beforeend\", createTaskMarkup(newTask))\n    form.reset()\n}\n\nfunction createTaskMarkup({id, title, text }) {\n  return `<li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${title}</h3>\n      <p>${text}</p>\n    </li>`;\n}\n\n\ntaskList.addEventListener(\"click\", handleDelete);\n\n\nfunction handleDelete(e) {\n  if (!e.target.classList.contains(\"task-list-item-btn\")) return;\n  const taskItem = e.target.closest(\".task-list-item\")\n  const taskId = taskItem.dataset.id;\n\n  tasks = tasks.filter(task => task.id !== taskId);\n  saveTasks(tasks);\n  taskItem.remove();\n}\n\nchangeTheme.addEventListener(\"click\", handleClick);\n\nfunction handleClick() {\n    if (body.classList.contains(\"theme-dark\")) { \n        body.classList.remove(\"theme-dark\");\n        body.classList.add(\"theme-light\");\n        localStorage.setItem(STORAGE_KEY_THEME, \"theme-light\");\n    } else {\n        body.classList.remove(\"theme-light\");\n        body.classList.add(\"theme-dark\");\n        localStorage.setItem(STORAGE_KEY_THEME, \"theme-dark\");\n    }\n   \n}\n\nfunction applySavedTheme() {\n  const savedTheme = localStorage.getItem(STORAGE_KEY_THEME);\n  if (savedTheme) {\n    body.classList.add(savedTheme);\n  } else {\n    body.classList.add(\"theme-light\")\n  }\n}\n\n\n\n"],"names":["STORAGE_KEY_TASKS","STORAGE_KEY_THEME","form","inputName","taskList","inputDesc","changeTheme","body","tasks","loadTasks","applySavedTheme","renderTasks","task","createTaskMarkup","saveTasks","handleSubmit","title","text","newTask","id","handleDelete","taskItem","taskId","handleClick","savedTheme"],"mappings":"ssBAkBA,MAAMA,EAAoB,gBACpBC,EAAoB,gBAGpBC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,wBAAwB,EAC3DC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAY,SAAS,cAAc,+BAA+B,EAClEC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAO,SAAS,KAEtB,IAAIC,EAAQC,EAAS,EACrBC,IACAC,IAGA,SAASA,GAAc,CACrBP,EAAS,UAAY,GACrBI,EAAM,QAAQI,GAAQ,CACpBR,EAAS,mBAAmB,YAAaS,EAAiBD,CAAI,CAAC,CACnE,CAAG,CACH,CACA,SAASH,GAAY,CACnB,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQT,CAAiB,CAAC,GAAK,CAAE,CACjE,MACS,CACT,MAAO,CAAE,CACT,CACH,CAIA,SAASc,EAAUN,EAAO,CACxB,aAAa,QAAQR,EAAkB,KAAK,UAAUQ,CAAK,CAAG,CAChE,CAKAN,EAAK,iBAAiB,SAAUa,CAAY,EAE5C,SAASA,EAAa,EAAG,CACvB,EAAE,eAAc,EACjB,MAAMC,EAAQb,EAAU,MAAM,KAAI,EAC7Bc,EAAOZ,EAAU,MAAM,OAE3B,GAAI,CAACW,GAAS,CAACC,EACb,OAGF,MAAMC,EAAU,CACd,GAAI,KAAK,IAAK,EAAC,SAAU,EACzB,MAAAF,EACA,KAAAC,CACJ,EAEET,EAAM,KAAKU,CAAO,EAClBJ,EAAUN,CAAK,EAGjBJ,EAAS,mBAAmB,YAAaS,EAAiBK,CAAO,CAAC,EAC9DhB,EAAK,MAAO,CAChB,CAEA,SAASW,EAAiB,CAAC,GAAAM,EAAI,MAAAH,EAAO,KAAAC,CAAI,EAAI,CAC5C,MAAO,uCAAuCE,CAAE;AAAA;AAAA,YAEtCH,CAAK;AAAA,WACNC,CAAI;AAAA,UAEf,CAGAb,EAAS,iBAAiB,QAASgB,CAAY,EAG/C,SAASA,EAAa,EAAG,CACvB,GAAI,CAAC,EAAE,OAAO,UAAU,SAAS,oBAAoB,EAAG,OACxD,MAAMC,EAAW,EAAE,OAAO,QAAQ,iBAAiB,EAC7CC,EAASD,EAAS,QAAQ,GAEhCb,EAAQA,EAAM,OAAOI,GAAQA,EAAK,KAAOU,CAAM,EAC/CR,EAAUN,CAAK,EACfa,EAAS,OAAM,CACjB,CAEAf,EAAY,iBAAiB,QAASiB,CAAW,EAEjD,SAASA,GAAc,CACfhB,EAAK,UAAU,SAAS,YAAY,GACpCA,EAAK,UAAU,OAAO,YAAY,EAClCA,EAAK,UAAU,IAAI,aAAa,EAChC,aAAa,QAAQN,EAAmB,aAAa,IAErDM,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,UAAU,IAAI,YAAY,EAC/B,aAAa,QAAQN,EAAmB,YAAY,EAG5D,CAEA,SAASS,GAAkB,CACzB,MAAMc,EAAa,aAAa,QAAQvB,CAAiB,EACrDuB,EACFjB,EAAK,UAAU,IAAIiB,CAAU,EAE7BjB,EAAK,UAAU,IAAI,aAAa,CAEpC"}